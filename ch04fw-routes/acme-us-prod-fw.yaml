# Example of the firewall template usage.
#
# In this example, an array of firewall rules is applied to the
# 'network' VPC.
#
# Replace 'network-name' with a valid VPC network name.
#
imports:
  - path: templates/firewall/firewall.py
    name: firewall.py

resources:
  - name: acme-prod-firewall
    type: firewall.py
    properties:
      network: acme-net-us-prod
      rules:
        - name: allow-access-internal-networks
          allowed:
            - IPProtocol: tcp
              ports:
                - "22"
          description: allow ssh internally
          direction: INGRESS
          sourceRanges:
            - 10.0.0.0/8
        - name: allow-ping-all
          allowed:
            - IPProtocol: icmp
          description: allow-icmp-everywhere
          direction: INGRESS
          priority: 100
          sourceRanges:
            - 0.0.0.0/0
